<Window x:Class="NewApiHelper.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="NewApiHelper" Height="720" Width="1100"
        Background="{DynamicResource WindowBackgroundBrush}"
        WindowStyle="None"
        ResizeMode="CanResize"
        AllowsTransparency="False">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Resources/Styles/WindowStyles.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    <Grid>

        <Grid.RowDefinitions>
            <RowDefinition Height="40" />
            <!-- 自定义标题栏高度 -->
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- 自定义标题栏 -->
        <Border Grid.Row="0" Background="#FF4A90E2" Padding="10" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
            <DockPanel LastChildFill="True">

                <!-- 应用标题 -->
                <TextBlock Text="NewApiHelper" FontWeight="Bold" FontSize="16" Foreground="White" VerticalAlignment="Center" />

                <!-- 窗口控制按钮-->
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Right" HorizontalAlignment="Right" VerticalAlignment="Center">

                    <!-- 最小化 -->
                    <Button Width="40" Height="28" Margin="4,0" Padding="0"
                            Click="MinimizeButton_Click"
                            Background="Transparent"
                            BorderThickness="0"
                            ToolTip="最小化">
                        <TextBlock Text="&#x2013;" FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,-10,0,0" />
                    </Button>

                    <!-- 最大化/还原 -->
                    <Button Width="40" Height="28" Margin="4,0" Padding="0"
                            Click="MaximizeRestoreButton_Click"
                            Background="Transparent"
                            BorderThickness="0"
                            ToolTip="最大化/还原">
                        <TextBlock x:Name="MaxRestoreIcon" Text="&#x25A1;" FontSize="14" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,-10,0,0" />
                    </Button>

                    <!-- 关闭 -->
                    <Button Width="40" Height="28" Margin="4,0" Padding="0"
                            Click="CloseButton_Click"
                            Background="Transparent"
                            BorderThickness="0"
                            ToolTip="关闭">
                        <TextBlock Text="×" FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,-10,0,0" />
                    </Button>
                </StackPanel>
            </DockPanel>
        </Border>

        <!-- 内容区域 -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="220" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <!-- 左侧侧边栏 -->
            <ListBox x:Name="SidebarMenu" Grid.Column="0"
                 Style="{StaticResource SidebarListBoxStyle}"
                 ItemsSource="{Binding MenuItems}"
                 SelectedItem="{Binding SelectedMenuItem, Mode=TwoWay}">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding DisplayName}" />
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>

            <!-- 右侧主内容区域 -->
            <ContentControl Grid.Column="1"
                        Background="{StaticResource ContentBackgroundBrush}"
                        Foreground="{StaticResource ContentForegroundBrush}"
                        Content="{Binding CurrentPage}" />
        </Grid>
    </Grid>
</Window>